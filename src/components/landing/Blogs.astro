---
const blogPosts = Object.entries(import.meta.glob('/src/pages/blog/*.mdx', { eager: true }));
---

<section class="border-white/20 border-b">
  <div class="mx-auto border-white/20 border-x max-w-7xl">
    <div class="text-white p-8">
      <p class="font-display uppercase text-3xl lg:text-6xl mt-8">
        Our Blog
      </p>
      <h2 class="mt-4 text-xl text-white max-w-4xl">
        <span class="bg-orange">
          Stay informed with the latest insights, updates, and stories from our team.
        </span>
      </h2>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-8 text-white">
      {blogPosts.map(([path, post]) => {
        const slug = path
          .replace('/src/pages/blog/', '')
          .replace('.md', '');
        const { title, description } = post.frontmatter;

        return (
          <div key={slug}>
            <a href={`/blog/${slug}`} class="hover:underline text-orange">
              <span class="font-display text-xl">{title}</span>
            </a>
            <p class="mt-3">
              {description || 'No description available.'}
            </p>
          </div>
        );
      })}
    </div>
    <div class="flex justify-center items-center p-8">
      <a href="/blog" class="bg-orange text-white font-bold py-4 px-8 rounded-full uppercase">
        View All Posts
      </a>
    </div>
  </div>
</section>
